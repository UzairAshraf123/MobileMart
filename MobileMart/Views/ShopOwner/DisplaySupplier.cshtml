@model IEnumerable<MobileMart.DB.ViewModel.DisplaySupplierViewModel>

@{
    ViewBag.Title = "DisplaySupplier";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2>DisplaySupplier</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.SupplierName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Supplierno)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SupplierAddress)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr id='@("supplierdelete" + item.SupplierID)'>
        <td>
            @Html.DisplayFor(modelItem => item.SupplierName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Supplierno)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SupplierAddress)
        </td>
        <td>
            @Html.ActionLink(" ", "EditSupplier", new {  id=item.SupplierID  }, new { @class = "glyphicon glyphicon-edit" }) |
            @*@Ajax.ActionLink(" ", "DeleteSupplier", new { id = item.SupplierID });*@
            <button value="@item.SupplierID" onclick="DeleteSupplier(@item.SupplierID)">
                <i class="glyphicon glyphicon-remove" ></i>
            </button>
           
        </td>
    </tr>
}

</table>
@section scripts{
    <script>
                                        
   function DeleteSupplier(supplierID) {
        var id = supplierID;
        debugger;
        $.ajax({
            url: "@Url.Action("DeleteSupplier", "ShopOwner")",
            method: "POST",
            data: { id: id },
            success: function (data) {
                if (data="True") {
                    $("#supplierdelete" + id).remove();
                }
                else {
                    alert("......");
                }
            }
        });

    };

    </script>
}